execute store result score @s smithed.data if entity @s[scores={smithed.data=0}] if score count smithed.data matches 3 if data storage smithed.crafter:input {recipe:[{Count:1b,tag:{smithed:{id:"nihility:rekindled_crystal"}}},{Count:2b,id:"minecraft:paper"},{Count:1b,id:"minecraft:feather"}]} run loot replace block ~ ~ ~ container.16 loot nihility:item/phoenix_envelope

execute store result score @s smithed.data if entity @s[scores={smithed.data=0}] if score count smithed.data matches 3 if data storage smithed.crafter:input {recipe:[{Count:2b,tag:{smithed:{id:"nihility:rescinded_bar"}}},{Count:1b,id:"minecraft:ink_sac"},{Count:1b,id:"minecraft:candle"}]} run loot replace block ~ ~ ~ container.16 loot nihility:item/rescinded_sigil

execute store result score @s smithed.data if entity @s[scores={smithed.data=0}] if score count smithed.data matches 2 if data storage smithed.crafter:input {recipe:[{Count:1b,tag:{smithed:{id:"nihility:mystic_book"}}},{Count:1b,item_tag:["#nihility:enchantable"]}]} unless data storage smithed.crafter:input recipe[{item_tag:["#nihility:enchantable"]}].tag.nihility.Enchantments run function nihility:recipes/enchant/main

execute store result score @s smithed.data if entity @s[scores={smithed.data=0}] if score count smithed.data matches 2 if data storage smithed.crafter:input {recipe:[{Count:1b,tag:{smithed:{id:"nihility:mystic_book"}}},{Count:1b,tag:{smithed:{id:"nihility:mystic_book"}}}]} unless data storage smithed.crafter:input recipe[{item_tag:["#nihility:enchantable"]}].tag.nihility.Enchantments unless data storage smithed.crafter:input recipe[{tag:{nihility:{flags:["not_mergeable"]}}}] run function nihility:recipes/merge/main

execute store result score @s smithed.data if entity @s[scores={smithed.data=0}] if score count smithed.data matches 2.. if data storage smithed.crafter:input {recipe:[{Count:1b,tag:{smithed:{id:"nihility:mystic_book"}}},{tag:{smithed:{id:"nihility:desecrated_char"}}}]} run function nihility:recipes/remove_one_ench/main